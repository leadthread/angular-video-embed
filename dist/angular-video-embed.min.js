var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();define("videos/Video",["require","exports"],function(e,t){"use strict";t.__esModule=!0;var r=function(){function e(e){this.id=e}return e.test=function(e){return e.match(this.regex)},e}();t.Video=r}),define("videos/ViddlerVideo",["require","exports","videos/Video"],function(e,t,r){"use strict";t.__esModule=!0;var o=function(e){function t(t){var r=e.call(this,t)||this;return r.id=t,r.service="viddler",r}return __extends(t,e),t.prototype.getVideoUrl=function(){return"https://www.viddler.com/embed/"+this.id+"/?f=1&player=arpeggio&hideablecontrolbar=1&make_responsive=0&hideCommentEmbedIfNoComments=1&noControls=true"},t.createFromUrl=function(e){var r=t.test(e);return r&&["viddler"].indexOf(r[1])>=0?new t(r[3]):null},t.regex=/https?:\/\/.*?(viddler)\.com\/(embed|v)\/([^?&\/]*)/,t}(r.Video);t.ViddlerVideo=o}),define("videos/VimeoVideo",["require","exports","videos/Video"],function(e,t,r){"use strict";t.__esModule=!0;var o=function(e){function t(t){var r=e.call(this,t)||this;return r.id=t,r.service="vimeo",r}return __extends(t,e),t.prototype.getVideoUrl=function(){return"https://player.vimeo.com/video/"+this.id+"?color=d4bd28&portrait=0&badge=0"},t.createFromUrl=function(e){var r=t.test(e);return r&&["vimeo"].indexOf(r[1])>=0?new t(r[2]):null},t.regex=/https?:\/\/.*?(vimeo)\.com\/([^?&]*)/,t}(r.Video);t.VimeoVideo=o}),define("videos/YouTubeVideo",["require","exports","videos/Video"],function(e,t,r){"use strict";t.__esModule=!0;var o=function(e){function t(t){var r=e.call(this,t)||this;return r.id=t,r.service="youtube",r}return __extends(t,e),t.prototype.getVideoUrl=function(){return"https://www.youtube.com/embed/"+this.id+"?rel=0"},t.createFromUrl=function(e){var r=t.test(e);return r?new t(r[1]):null},t.regex=/(?:youtu\.be\/|youtube\.com(?:\/embed\/|\/v\/|\/watch\?v=|\/user\/\S+|\/ytscreeningroom\?v=|\/sandalsResorts#\w\/\w\/.*\/))([^\/&]{10,12})/,t}(r.Video);t.YouTubeVideo=o}),define("factories/VideoFactory",["require","exports","videos/ViddlerVideo","videos/VimeoVideo","videos/YouTubeVideo"],function(e,t,r,o,i){"use strict";t.__esModule=!0;var n=function(){function e(){}return e.createFromUrl=function(e){var t;return(t=i.YouTubeVideo.createFromUrl(e))?t:(t=o.VimeoVideo.createFromUrl(e))?t:(t=r.ViddlerVideo.createFromUrl(e),t?t:void 0)},e}();t.VideoFactory=n}),define("index",["require","exports","factories/VideoFactory"],function(e,t,r){"use strict";t.__esModule=!0;var o=angular.module("zen.video-embed",["zen.video-embed.templates"]),i=function(){function e(){}return e.prototype.getVideoFromUrl=function(e){if("undefined"!=typeof e)return r.VideoFactory.createFromUrl(e)},e.prototype.getUrlFromVideo=function(e){return e.getVideoUrl()},e}();o.service("ZenVideoEmbedService",i),o.directive("zenVideoEmbed",["$sce","ZenVideoEmbedService",function(e,t){return{restrict:"EA",templateUrl:"index.html",scope:{url:"@",video:"=?"},link:function(r){function o(){r.getTrustedVideoUrl=u,n()}function i(){r.video=d()}function n(){r.$watch(function(){return r.url},i)}function d(){return r.url?t.getVideoFromUrl(r.url):null}function u(t){return e.trustAsResourceUrl(t.getVideoUrl())}o()}}}])});