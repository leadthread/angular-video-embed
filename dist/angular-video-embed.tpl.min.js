angular.module('zen.video-embed.templates', []).run(['$templateCache', function($templateCache) {$templateCache.put('index.html','<div ng-switch="video.service" style="height: 100%; width: 100%;">\r\n\t<div ng-switch-when="youtube" style="height: 100%; width: 100%;">\r\n\t\t<iframe width="100%" height="100%" ng-src="{{video.url}}" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\r\n\t</div>\r\n\t<div ng-switch-when="vimeo" style="height: 100%; width: 100%;">\r\n\t\t<iframe width="100%" height="100%" ng-src="{{video.url}}" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\r\n\t</div>\r\n\t<div ng-switch-default>\r\n\t\tUnknown Video Service: "{{video.service}}"\r\n\t</div>\r\n</div>');}]);
!function(e){"use strict";var i=e.module("zen.video-embed",["zen.video-embed.templates"]);i.directive("zenVideoEmbed",["$sce",function(e){return{restrict:"EA",templateUrl:"index.html",scope:{url:"@?",video:"=?"},link:function(i){function o(){d(),t(),u(),r()}function t(){if(!i.video&&i.url){var e;i.video={},e=i.url.match(/https?:\/\/.*?(youtube|youtu\.be).*v=([^\?&]*)/),e&&(i.video.service=["youtube","youtu.be"].indexOf(e[1])>=0?"youtube":void 0,i.video.id=e[2]),e=i.url.match(/https?:\/\/.*?(vimeo)\.com\/([^?&]*)/),e&&(i.video.service=["vimeo"].indexOf(e[1])>=0?"vimeo":void 0,i.video.id=e[2])}}function r(){var o="";switch(i.video.service){case"youtube":o="https://www.youtube.com/embed/"+i.video.id;break;case"vimeo":o="https://player.vimeo.com/video/"+i.video.id+"?color=d4bd28&portrait=0&badge=0";break;default:v(i.video.service)}i.video.url=e.trustAsResourceUrl(o)}function d(){if(!i.url&&!i.video)throw"Neither video or url is defined";return!0}function u(){var e=n.indexOf(i.video.service);return e<0&&v(i.video.service),!0}function v(e){throw'Unknown Video Service: "'+e+'"'}var n=["youtube","vimeo"];o()}}}])}(angular);