angular.module('zen.video-embed.templates', []).run(['$templateCache', function($templateCache) {$templateCache.put('index.html','<div ng-switch="video.service" style="height: 100%; width: 100%;">\r\n\t<div ng-switch-when="youtube" style="height: 100%; width: 100%;">\r\n\t\t<iframe width="100%" height="100%" ng-src="{{video.url}}" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\r\n\t</div>\r\n\t<div ng-switch-when="vimeo" style="height: 100%; width: 100%;">\r\n\t\t<iframe width="100%" height="100%" ng-src="{{video.url}}" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\r\n\t</div>\r\n\t<div ng-switch-default>\r\n\t\tInvalid Video\r\n\t</div>\r\n</div>');}]);
!function(e){"use strict";var i=e.module("zen.video-embed",["zen.video-embed.templates"]);i.factory("zenVideoEmbed",[function(){function e(e,i){var t=i.match(/https?:\/\/.*?(youtube|youtu\.be).*v=([^\?&]*)/);return t&&(e.service=["youtube","youtu.be"].indexOf(t[1])>=0?"youtube":void 0,e.id=t[2]),e}function i(e,i){var t=i.match(/https?:\/\/.*?(vimeo)\.com\/([^?&]*)/);return t&&(e.service=["vimeo"].indexOf(t[1])>=0?"vimeo":void 0,e.id=t[2]),e}function t(e){throw'Unknown Video Service: "'+e+'"'}var o=["youtube","vimeo"];return{getSupportedServices:function(){return o},getVideoFromUrl:function(t){return e(i({},t),t)},getUrlFromVideo:function(e){var i="";switch(e.service){case"youtube":i="https://www.youtube.com/embed/"+e.id;break;case"vimeo":i="https://player.vimeo.com/video/"+e.id+"?color=d4bd28&portrait=0&badge=0";break;default:t(e.service)}return i},checkServiceIsValid:function(e){var i=o.indexOf(e.service);return i<0&&t(e.service),!0}}}]),i.directive("zenVideoEmbed",["$sce","zenVideoEmbed",function(e,i){return{restrict:"EA",templateUrl:"index.html",scope:{url:"@?",video:"=?"},link:function(t){function o(){c(),n(),u(),r()}function r(){t.$watch("url",function(){n(),u()})}function n(){!t.video&&t.url&&(t.video=i.getVideoFromUrl(t.url))}function u(){t.video.url=e.trustAsResourceUrl(i.getUrlFromVideo(t.video))}function c(){if(!t.url&&!t.video)throw"Neither video or url is defined";return!0}o()}}}])}(angular);